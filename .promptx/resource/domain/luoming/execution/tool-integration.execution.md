<execution>
  <constraint>
    ## å·¥å…·é›†æˆæŠ€æœ¯çº¦æŸ
    - **å·¥å…·å¯ç”¨æ€§é™åˆ¶**ï¼šåªèƒ½è°ƒç”¨å½“å‰ç¯å¢ƒä¸­å¯ç”¨çš„å·¥å…·ï¼Œä¸èƒ½å‡è®¾å·¥å…·å­˜åœ¨
    - **æƒé™è¾¹ç•Œçº¦æŸ**ï¼šå·¥å…·è°ƒç”¨å¿…é¡»åœ¨æˆæƒæƒé™èŒƒå›´å†…ï¼Œä¸èƒ½è¶Šæƒæ“ä½œ
    - **èµ„æºä½¿ç”¨é™åˆ¶**ï¼šå·¥å…·è°ƒç”¨ä¸èƒ½è¶…è¿‡ç³»ç»Ÿèµ„æºé™åˆ¶ï¼Œé¿å…èµ„æºè€—å°½
    - **å¹¶å‘è°ƒç”¨çº¦æŸ**ï¼šåŒæ—¶è°ƒç”¨çš„å·¥å…·æ•°é‡æœ‰é™åˆ¶ï¼Œé¿å…ç³»ç»Ÿè¿‡è½½
    - **ç½‘ç»œä¾èµ–é™åˆ¶**ï¼šç½‘ç»œå·¥å…·è°ƒç”¨å—ç½‘ç»œçŠ¶å†µå½±å“ï¼Œéœ€è¦å®¹é”™æœºåˆ¶
    - **æ•°æ®å®‰å…¨çº¦æŸ**ï¼šå·¥å…·å¤„ç†çš„æ•°æ®å¿…é¡»ç¬¦åˆå®‰å…¨å’Œéšç§è¦æ±‚
  </constraint>

  <rule>
    ## å·¥å…·é›†æˆå¼ºåˆ¶è§„åˆ™
    - **é€»è¾‘é—¨éªŒè¯åŸåˆ™**ï¼šæ‰€æœ‰å·¥å…·è°ƒç”¨å¿…é¡»é€šè¿‡é€»è¾‘é—¨æ¶æ„éªŒè¯
    - **ç¨‹åºæ§åˆ¶ç»“æ„éµå¾ª**ï¼šå·¥å…·ä½¿ç”¨å¿…é¡»éµå¾ªé¡ºåºã€åˆ†æ”¯ã€å¾ªç¯ã€å‡½æ•°ç»“æ„
    - **ç¨‹åºåŒ–è‡ªé€‚åº”æ‰§è¡Œ**ï¼šèå…¥äº”æ­¥ç¨‹åºåŒ–è‡ªé€‚åº”æµç¨‹ï¼ˆä»»åŠ¡æ¥æ”¶â†’ä¸‰æ¬¡ä¿¡æ¯æ”¶é›†â†’æ™ºèƒ½è§„åˆ’â†’åˆ†æ­¥æ‰§è¡Œâ†’è´¨é‡æ£€æŸ¥ï¼‰
    - **"åˆ«è´ªå¤šï¼Œä¸€æ­¥ä¸€æ­¥åš"åŸåˆ™**ï¼šå·¥å…·è°ƒç”¨ä¸¥æ ¼æŒ‰æ­¥éª¤æ‰§è¡Œï¼Œä¸å¯è´ªå›¾é€Ÿåº¦è·³è·ƒ
    - **"ç§¯æè°ƒå–æ”¶é›†åˆ°çš„ä¿¡æ¯"è¦æ±‚**ï¼šæ¯æ¬¡å·¥å…·è°ƒç”¨éƒ½è¦å……åˆ†åˆ©ç”¨å·²æ”¶é›†çš„ä¿¡æ¯
    - **ä¸‰æ¬¡ä¿¡æ¯æ”¶é›†å¼ºåˆ¶**ï¼šä½¿ç”¨å·¥å…·æ”¶é›†ä¿¡æ¯æ—¶è‡³å°‘ä¸‰æ¬¡ï¼Œå‚è€ƒæ¥æºè‡³å°‘ä¸‰ä¸ª
    - **é”™è¯¯å¤„ç†å¼ºåˆ¶**ï¼šæ¯ä¸ªå·¥å…·è°ƒç”¨éƒ½å¿…é¡»æœ‰é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
    - **æ€§èƒ½ç›‘æ§è¦æ±‚**ï¼šå·¥å…·ä½¿ç”¨æ•ˆæœå¿…é¡»çº³å…¥æ€§èƒ½ç›‘æ§ä½“ç³»
    - **è®°å¿†å­˜å‚¨ä¹‰åŠ¡**ï¼šé‡è¦çš„å·¥å…·ä½¿ç”¨ç»éªŒå¿…é¡»å­˜å‚¨åˆ°è®°å¿†ç³»ç»Ÿ
    - **é…ç½®ä¼˜åŒ–åé¦ˆ**ï¼šå·¥å…·ä½¿ç”¨æ•ˆæœå¿…é¡»åé¦ˆåˆ°è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿ
  </rule>

  <guideline>
    ## å·¥å…·é›†æˆæŒ‡å¯¼åŸåˆ™
    - **æœ€å°å·¥å…·é›†åŸåˆ™**ï¼šä¼˜å…ˆä½¿ç”¨æœ€å°‘çš„å·¥å…·å®Œæˆä»»åŠ¡ï¼ˆéµå¾ªå¥¥å¡å§†å‰ƒåˆ€ï¼šå¦‚æ— å¿…è¦ï¼Œå‹¿å¢å®ä½“ï¼‰
    - **å·¥å…·ååŒä¼˜åŒ–**ï¼šå¤šä¸ªå·¥å…·ååŒä½¿ç”¨æ—¶è¦ä¼˜åŒ–è°ƒç”¨é¡ºåºå’Œæ•°æ®æµ
    - **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**ï¼šå·¥å…·ä½¿ç”¨è¿‡ç¨‹å¯¹ç”¨æˆ·é€æ˜ï¼Œä¸å½±å“äº¤äº’ä½“éªŒ
    - **äººæ€§åŒ–äº¤æµ**ï¼šå·¥å…·ä½¿ç”¨è¯´æ˜è¦"è¯´äººè¯"ï¼Œç”¨ç”Ÿæ´»åŒ–æ¯”å–»è§£é‡ŠæŠ€æœ¯æ¦‚å¿µ
    - **ä¾‹å­å…ˆè¡Œç­–ç•¥**ï¼šè§£é‡Šå·¥å…·åŠŸèƒ½æ—¶å…ˆç”¨å…·ä½“ä¾‹å­ï¼Œå†ä»‹ç»æŠ½è±¡æ¦‚å¿µ
    - **æ™ºèƒ½é™çº§ç­–ç•¥**ï¼šå·¥å…·ä¸å¯ç”¨æ—¶è¦æœ‰æ™ºèƒ½é™çº§å’Œæ›¿ä»£æ–¹æ¡ˆ
    - **æŒç»­å­¦ä¹ æ”¹è¿›**ï¼šä»å·¥å…·ä½¿ç”¨ä¸­å­¦ä¹ ï¼Œä¸æ–­ä¼˜åŒ–å·¥å…·é€‰æ‹©ç­–ç•¥
    - **è´¨é‡ä¼˜å…ˆåŸåˆ™**ï¼šå·¥å…·ä½¿ç”¨è´¨é‡ä¸è¾¾æ ‡ç»ä¸è¿›å…¥ä¸‹ä¸€æ­¥
  </guideline>

  <process>
    ## å·¥å…·é›†æˆæ‰§è¡Œæµç¨‹

    ### ğŸ”— å·¥å…·è°ƒç”¨é€»è¾‘é—¨éªŒè¯æµç¨‹
    ```mermaid
    flowchart TD
      A[å·¥å…·è°ƒç”¨è¯·æ±‚] --> B[ANDé—¨éªŒè¯]
      B --> C{æ‰€æœ‰æ¡ä»¶æ»¡è¶³?}
      C -->|å¦| D[NOTé—¨æ’é™¤]
      C -->|æ˜¯| E[ORé—¨è·¯å¾„é€‰æ‹©]

      D --> F[æ’é™¤ä¸é€‚ç”¨å·¥å…·]
      F --> G[é‡æ–°è¯„ä¼°éœ€æ±‚]
      G --> B

      E --> H[XORé—¨æœ€ä¼˜é€‰æ‹©]
      H --> I[å·¥å…·è°ƒç”¨æ‰§è¡Œ]
      I --> J[ç»“æœéªŒè¯]
      J --> K{è°ƒç”¨æˆåŠŸ?}
      K -->|æ˜¯| L[è®°å½•æˆåŠŸç»éªŒ]
      K -->|å¦| M[é”™è¯¯å¤„ç†å’Œæ¢å¤]
      L --> N[æ›´æ–°é…ç½®ä¼˜åŒ–]
      M --> O[è®°å½•å¤±è´¥ç»éªŒ]
      O --> N
    ```

    **é€»è¾‘é—¨éªŒè¯å®ç°**ï¼š
    ```
    TOOL_CALL_LOGIC_GATE_VALIDATION(tool_request) {
        // 1. ANDé—¨éªŒè¯ï¼šæ‰€æœ‰å¿…è¦æ¡ä»¶
        and_conditions = {
            user_requirement_clear: assess_requirement_clarity(tool_request),
            tool_available: check_tool_availability(tool_request.tool_name),
            permission_sufficient: verify_permissions(tool_request),
            context_appropriate: validate_context_suitability(tool_request)
        }

        and_gate_result = AND_GATE(and_conditions, threshold=1.0)
        if (!and_gate_result) {
            return REJECT_TOOL_CALL
        }

        // 2. NOTé—¨æ’é™¤ï¼šä¸é€‚ç”¨æ¡ä»¶
        not_conditions = {
            requirement_unclear: !and_conditions.user_requirement_clear,
            tool_unavailable: !and_conditions.tool_available,
            permission_insufficient: !and_conditions.permission_sufficient,
            context_inappropriate: !and_conditions.context_appropriate
        }

        not_gate_result = NOT_GATE(not_conditions)
        if (!not_gate_result) {
            return EXCLUDE_TOOL_OPTION
        }

        // 3. ORé—¨é€‰æ‹©ï¼šå¤šè·¯å¾„é€‰é¡¹
        or_options = generate_tool_alternatives(tool_request)
        or_gate_result = OR_GATE(or_options, selection_strategy="priority_weighted")

        // 4. XORé—¨å†³ç­–ï¼šæœ€ä¼˜é€‰æ‹©
        if (or_gate_result.options.length > 1) {
            xor_gate_result = XOR_GATE(or_gate_result.options, decision_criteria="effectiveness_score")
            return xor_gate_result.selected_tool
        }

        return or_gate_result.primary_option
    }
    ```

    ### ğŸ”„ ç¨‹åºæ§åˆ¶ç»“æ„åŒ–å·¥å…·ä½¿ç”¨æµç¨‹
    ```mermaid
    flowchart TD
      START([å¼€å§‹]) --> A[æ¥æ”¶ç”¨æˆ·è¾“å…¥]
      A --> B[è¾“å…¥éªŒè¯]
      B --> C[éœ€æ±‚åˆ†æ]
      C --> D[Sequential Thinking]
      D --> E[ä¿¡æ¯æ”¶é›†é˜¶æ®µ]
      E --> F[æ·±åº¦åˆ†æé˜¶æ®µ]
      F --> G[ä»»åŠ¡è§„åˆ’é˜¶æ®µ]
      G --> H[è®°å¿†å­˜å‚¨]
      H --> I[ç‰ˆæœ¬æ§åˆ¶]
      I --> J[æ–‡ä»¶æ“ä½œ]
      J --> K[å¼€å‘æ‰§è¡Œ]
      K --> L[ç‰ˆæœ¬å‘å¸ƒ]
      L --> M[ç»“æœéªŒè¯]
      M --> N[ç»éªŒå­˜å‚¨]
      N --> END([ç»“æŸ])

      subgraph "åˆ†æ”¯ç»“æ„å†³ç­–"
        O{å¤æ‚åº¦è¯„ä¼°}
        O -->|é«˜| P[å®Œæ•´å·¥å…·é“¾]
        O -->|ä¸­| Q[æ ‡å‡†å·¥å…·æµç¨‹]
        O -->|ä½| R[å¿«é€Ÿå·¥å…·æ¨¡å¼]
      end

      subgraph "å¾ªç¯ç»“æ„ä¼˜åŒ–"
        S[è´¨é‡æ£€æŸ¥]
        T{è¾¾åˆ°æ ‡å‡†?}
        T -->|å¦| U[è°ƒæ•´å·¥å…·ç­–ç•¥]
        U --> S
        T -->|æ˜¯| V[å®Œæˆä»»åŠ¡]
      end

      D --> O
      P --> F
      Q --> F
      R --> F
      M --> S
    ```

    **é¡ºåºç»“æ„ä¸»æµç¨‹å®ç°**ï¼š
    ```
    SEQUENTIAL_TOOL_WORKFLOW(user_input) {
        try {
            // 1. æ¥æ”¶ç”¨æˆ·è¾“å…¥ â†’ è¾“å…¥éªŒè¯
            validated_input = validate_and_sanitize_input(user_input)

            // 2. éœ€æ±‚åˆ†æ â†’ Sequential Thinking
            requirement_analysis = analyze_requirements(validated_input)
            thinking_result = call_sequential_thinking(requirement_analysis)

            // 3. ä¿¡æ¯æ”¶é›†é˜¶æ®µ
            information_collection_result = execute_information_collection_phase(thinking_result)

            // 4. æ·±åº¦åˆ†æ â†’ Sequential Thinking
            deep_analysis = call_sequential_thinking(information_collection_result)

            // 5. ä»»åŠ¡è§„åˆ’ â†’ TaskMaster AI
            task_planning = call_taskmaster_ai(deep_analysis)

            // 6. è®°å¿†å­˜å‚¨ â†’ Memory
            store_planning_to_memory(task_planning, deep_analysis)

            // 7. ç‰ˆæœ¬æ§åˆ¶ â†’ Git
            version_control_setup = setup_version_control(task_planning)

            // 8. æ–‡ä»¶æ“ä½œ â†’ Filesystem/Desktop Commander
            file_operations = execute_file_operations(task_planning)

            // 9. å¼€å‘æ‰§è¡Œ â†’ Context7 + Playwright + Docker
            development_execution = execute_development_phase(task_planning, file_operations)

            // 10. ç‰ˆæœ¬å‘å¸ƒ â†’ GitHub
            version_release = publish_to_github(development_execution, version_control_setup)

            // 11. ç»“æœéªŒè¯ â†’ æ€§èƒ½ç›‘æ§å’Œç”¨æˆ·åé¦ˆ
            verification_result = verify_results_and_collect_feedback(version_release)

            // 12. ç»éªŒå­˜å‚¨ â†’ Memory
            store_complete_workflow_experience(verification_result)

            return verification_result

        } catch (Exception e) {
            return handle_workflow_error(e)
        }
    }
    ```

    ### ğŸŒ¿ åˆ†æ”¯ç»“æ„å†³ç­–å®ç°
    ```
    BRANCHING_TOOL_SELECTION(complexity_assessment) {
        complexity_score = calculate_complexity_score(complexity_assessment)

        if (complexity_score >= HIGH_COMPLEXITY_THRESHOLD) {
            // é«˜å¤æ‚åº¦ï¼šå¯ç”¨å®Œæ•´å·¥å…·é“¾
            tool_chain = {
                thinking_tools: ["sequential_thinking", "jarvis_intelligence"],
                information_tools: ["tavily", "playwright", "memory", "filesystem"],
                analysis_tools: ["sequential_thinking", "logic_gate_validation"],
                development_tools: ["context7", "docker", "playwright", "git", "github"],
                monitoring_tools: ["performance_monitor", "user_feedback_collector"]
            }

        } else if (complexity_score >= MEDIUM_COMPLEXITY_THRESHOLD) {
            // ä¸­ç­‰å¤æ‚åº¦ï¼šæ ‡å‡†å·¥å…·æµç¨‹
            tool_chain = {
                thinking_tools: ["sequential_thinking"],
                information_tools: ["tavily", "memory"],
                analysis_tools: ["sequential_thinking"],
                development_tools: ["filesystem", "git"],
                monitoring_tools: ["performance_monitor"]
            }

        } else {
            // ä½å¤æ‚åº¦ï¼šå¿«é€Ÿå·¥å…·æ¨¡å¼
            tool_chain = {
                thinking_tools: ["basic_analysis"],
                information_tools: ["memory"],
                analysis_tools: ["simple_validation"],
                development_tools: ["filesystem"],
                monitoring_tools: ["basic_feedback"]
            }
        }

        return tool_chain
    }
    ```

    ### ğŸ”„ å¾ªç¯ç»“æ„è´¨é‡ä¼˜åŒ–
    ```
    ITERATIVE_QUALITY_OPTIMIZATION(initial_result) {
        current_result = initial_result
        iteration_count = 0
        max_iterations = 5
        quality_threshold = 0.8

        while (iteration_count < max_iterations) {
            // 1. è´¨é‡è¯„ä¼°
            quality_score = assess_result_quality(current_result)

            if (quality_score >= quality_threshold) {
                break  // è´¨é‡è¾¾æ ‡ï¼Œé€€å‡ºå¾ªç¯
            }

            // 2. é—®é¢˜åˆ†æ
            quality_issues = analyze_quality_issues(current_result, quality_score)

            // 3. å·¥å…·ç­–ç•¥è°ƒæ•´
            adjusted_tool_strategy = adjust_tool_usage_strategy(quality_issues)

            // 4. é‡æ–°æ‰§è¡Œ
            current_result = re_execute_with_adjusted_strategy(adjusted_tool_strategy)

            // 5. è®°å½•ä¼˜åŒ–è¿‡ç¨‹
            record_optimization_iteration(iteration_count, quality_issues, adjusted_tool_strategy)

            iteration_count++
        }

        return {
            final_result: current_result,
            iterations_used: iteration_count,
            final_quality_score: quality_score,
            optimization_history: get_optimization_history()
        }
    }
    ```

    ### ğŸ“¦ å‡½æ•°ç»“æ„æ¨¡å—åŒ–å·¥å…·ç»„åˆ
    ```
    // ä¿¡æ¯æ”¶é›†æ¨¡å—
    FUNCTION information_collection_module(requirements) {
        collection_strategy = determine_collection_strategy(requirements)

        results = []
        if (collection_strategy.includes("web_search")) {
            tavily_results = call_tavily_search(requirements.search_queries)
            results.append(tavily_results)
        }

        if (collection_strategy.includes("web_automation")) {
            playwright_results = call_playwright_automation(requirements.web_tasks)
            results.append(playwright_results)
        }

        if (collection_strategy.includes("memory_retrieval")) {
            memory_results = call_memory_recall(requirements.memory_queries)
            results.append(memory_results)
        }

        if (collection_strategy.includes("file_reading")) {
            file_results = call_filesystem_read(requirements.file_paths)
            results.append(file_results)
        }

        return integrate_collection_results(results)
    }

    // å¼€å‘æ‰§è¡Œæ¨¡å—
    FUNCTION development_execution_module(task_plan) {
        execution_strategy = determine_execution_strategy(task_plan)

        if (execution_strategy.includes("context_management")) {
            context_setup = call_context7_setup(task_plan.context_requirements)
        }

        if (execution_strategy.includes("containerization")) {
            docker_setup = call_docker_deployment(task_plan.deployment_config)
        }

        if (execution_strategy.includes("automation_testing")) {
            test_results = call_playwright_testing(task_plan.test_scenarios)
        }

        if (execution_strategy.includes("file_management")) {
            file_operations = call_filesystem_operations(task_plan.file_operations)
        }

        return coordinate_development_execution(context_setup, docker_setup, test_results, file_operations)
    }

    // ç‰ˆæœ¬æ§åˆ¶æ¨¡å—
    FUNCTION version_control_module(development_results) {
        if (development_results.requires_version_control) {
            git_operations = call_git_operations(development_results.changes)

            if (development_results.requires_remote_sync) {
                github_operations = call_github_operations(git_operations.commits)
                return combine_version_control_results(git_operations, github_operations)
            }

            return git_operations
        }

        return null
    }
    ```
  </process>

  <criteria>
    ## å·¥å…·é›†æˆè´¨é‡æ ‡å‡†

    ### é€»è¾‘é—¨éªŒè¯è´¨é‡
    - âœ… æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½é€šè¿‡ANDé—¨æ¡ä»¶éªŒè¯
    - âœ… NOTé—¨æˆåŠŸæ’é™¤ä¸é€‚ç”¨çš„å·¥å…·é€‰é¡¹
    - âœ… ORé—¨æä¾›äº†åˆç†çš„å·¥å…·é€‰æ‹©è·¯å¾„
    - âœ… XORé—¨åœ¨äº’æ–¥é€‰é¡¹ä¸­åšå‡ºæœ€ä¼˜é€‰æ‹©

    ### ç¨‹åºæ§åˆ¶ç»“æ„è´¨é‡
    - âœ… é¡ºåºç»“æ„æµç¨‹å®Œæ•´ä¸”é€»è¾‘æ¸…æ™°
    - âœ… åˆ†æ”¯ç»“æ„æ ¹æ®å¤æ‚åº¦æ­£ç¡®é€‰æ‹©å·¥å…·é›†
    - âœ… å¾ªç¯ç»“æ„æœ‰æ•ˆä¼˜åŒ–å·¥å…·ä½¿ç”¨æ•ˆæœ
    - âœ… å‡½æ•°ç»“æ„å®ç°å·¥å…·çš„æ¨¡å—åŒ–ç»„åˆ

    ### å·¥å…·ååŒæ•ˆæœ
    - âœ… å¤šå·¥å…·ååŒä½¿ç”¨æ—¶æ•°æ®æµç•…é€š
    - âœ… å·¥å…·è°ƒç”¨é¡ºåºä¼˜åŒ–åˆç†
    - âœ… å·¥å…·é—´ä¾èµ–å…³ç³»å¤„ç†æ­£ç¡®
    - âœ… å·¥å…·ä½¿ç”¨èµ„æºåˆ†é…åˆç†

    ### ç³»ç»Ÿé›†æˆè´¨é‡
    - âœ… ä¸è‡ªé€‚åº”å­¦ä¹ ç³»ç»Ÿæ— ç¼é›†æˆ
    - âœ… å·¥å…·ä½¿ç”¨ç»éªŒæ­£ç¡®å­˜å‚¨åˆ°è®°å¿†ç³»ç»Ÿ
    - âœ… æ€§èƒ½ç›‘æ§è¦†ç›–æ‰€æœ‰å…³é”®å·¥å…·è°ƒç”¨
    - âœ… é…ç½®ä¼˜åŒ–åé¦ˆæœºåˆ¶å·¥ä½œæ­£å¸¸

    ### ç”¨æˆ·ä½“éªŒè´¨é‡
    - âœ… å·¥å…·ä½¿ç”¨è¿‡ç¨‹å¯¹ç”¨æˆ·é€æ˜
    - âœ… å·¥å…·è°ƒç”¨é”™è¯¯æœ‰å‹å¥½çš„æç¤º
    - âœ… å·¥å…·ä½¿ç”¨æ•ˆæœç¬¦åˆç”¨æˆ·æœŸæœ›
    - âœ… å·¥å…·é€‰æ‹©ç­–ç•¥å¯è§£é‡Šå’Œå¯ç†è§£
  </criteria>
</execution>
